<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Trap Tracker — Aamr Benbrahim</title>

<style>
/* ================== THEME ================== */
:root{
--bg:#0b0c10; --card:#12141a; --muted:#9aa3b2; --text:#eef2ff; --border:#232735;
--green:#22c55e; --red:#ef4444; --orange:#f97316; --yellow:#eab308;
--shadow: 0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;
background:linear-gradient(180deg,#090a0f,#0b0c10);
color:var(--text)
}
.wrap{max-width:1080px;margin:0 auto;padding:14px}
h1{margin:6px 0 2px;font-size:20px}
.sub{color:var(--muted);font-size:13px;margin:0 0 12px}
.grid{display:grid;gap:12px}
@media(min-width:980px){.grid{grid-template-columns:1.25fr .95fr}}

.card{
background:rgba(18,20,26,.92);
border:1px solid var(--border);
border-radius:18px;
padding:12px;
box-shadow:var(--shadow)
}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
input,textarea,select{
width:100%;padding:10px 12px;border-radius:14px;
border:1px solid var(--border);
background:#0f1118;color:var(--text)
}
textarea{min-height:74px}
.divider{height:1px;background:var(--border);margin:12px 0}
.small{font-size:12px;color:var(--muted)}
.hint{font-size:11px;color:var(--muted)}

.btn{
border:1px solid var(--border);
background:#0f1118;
color:var(--text);
padding:10px 12px;
border-radius:16px;
font-weight:900;
display:inline-flex;
align-items:center;
justify-content:center;
gap:6px
}
.btn.primary{background:#1b2030}
.btn.danger{background:#2a1212}
.btn.mini{padding:8px 10px;font-size:12px}

.seg{
display:inline-flex;border:1px solid var(--border);
background:#0f1118;border-radius:16px;overflow:hidden
}
.seg button{
border:0;background:transparent;color:var(--muted);
padding:10px 12px;font-weight:900;font-size:12px
}
.seg button.active{background:#1b2030;color:var(--text)}

.tapGrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.tap{
padding:18px 14px;border-radius:18px;
border:1px solid var(--border);
font-size:18px;font-weight:950
}
.tap.hit{background:rgba(34,197,94,.14)}
.tap.left{background:rgba(239,68,68,.12)}
.tap.center{background:rgba(249,115,22,.12)}
.tap.right{background:rgba(234,179,8,.12)}

.statgrid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.stat{
border:1px solid var(--border);
border-radius:16px;padding:10px;background:#0f1118
}
.stat .k{font-size:11px;color:var(--muted)}
.stat .v{font-size:18px;font-weight:950}

.shotGrid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.shot{
border:1px solid var(--border);
border-radius:14px;
padding:8px;
text-align:center;
font-weight:900
}
.shot.hit{background:rgba(34,197,94,.12)}
.shot.miss{background:rgba(239,68,68,.12)}
.shot.pending{opacity:.5}
</style>
</head>

<body>
<div class="wrap">
<h1>Trap Tracker — Aamr Benbrahim</h1>
<p class="sub">ISSF Trap live logging • Simple & Pro modes • Offline (local storage)</p>

<div class="grid">

<!-- ================= LIVE ROUND ================= -->
<div class="card">

<div class="row" style="justify-content:space-between">
<div>
<div style="font-weight:950">Live Round</div>
<div class="small" id="statusLine">Ready.</div>
</div>
<div class="row">
<button class="btn" id="undoBtn" type="button">↩ Undo</button>
<button class="btn danger" id="resetRoundBtn" type="button">Reset</button>
</div>
</div>

<div class="divider"></div>

<div class="row" style="justify-content:space-between">
<div class="seg">
<button id="modeSimpleBtn" class="active" type="button">Simple</button>
<button id="modeProBtn" type="button">Pro</button>
</div>

<div class="seg" id="shotSeg">
<button id="shot1Btn" class="active" type="button">1st</button>
<button id="shot2Btn" type="button">2nd</button>
</div>
</div>

<div class="hint" id="modeHint">Simple: HIT / MISS L / MISS C / MISS R</div>

<div class="divider"></div>

<div class="statgrid">
<div class="stat"><div class="k">Station</div><div class="v" id="stationV">1/5</div></div>
<div class="stat"><div class="k">Shots</div><div class="v" id="shotV">0/25</div></div>
<div class="stat"><div class="k">Score</div><div class="v" id="scoreV">0/25</div></div>
<div class="stat"><div class="k">Hit %</div><div class="v" id="hitPctV">0%</div></div>
</div>

<!-- SIMPLE CONTROLS -->
<div id="simpleControls">
<div class="divider"></div>
<div class="tapGrid">
<button class="btn tap hit" id="tapHit" type="button">✅ HIT</button>
<button class="btn tap left" id="tapLeft" type="button">❌ LEFT</button>
<button class="btn tap center" id="tapCenter" type="button">❌ CENTER</button>
<button class="btn tap right" id="tapRight" type="button">❌ RIGHT</button>
</div>
</div>

<!-- PRO CONTROLS -->
<div id="proControls" style="display:none">
<div class="divider"></div>
<div class="row">
<button class="btn primary" id="proHitBtn" type="button">✅ HIT</button>
<button class="btn danger" id="proMissBtn" type="button">❌ MISS</button>
</div>
<p class="small">Tap a zone to record shot</p>
</div>

<div class="divider"></div>
<div class="shotGrid" id="shotGrid"></div>

<div class="divider"></div>
<button class="btn primary" id="saveRoundBtn" type="button">Save round</button>

</div>

</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", ()=>{

/* ========= HELPERS ========= */
const $ = id => document.getElementById(id);
const pct = (a,b)=>b?Math.round(a/b*100):0;

/* ========= STATE ========= */
let mode="simple";
let liveShots=[];
let shotNum=1;
let proOutcome="hit";

/* ========= MODE ========= */
function setMode(m){
mode=m;
$("modeSimpleBtn").classList.toggle("active",m==="simple");
$("modeProBtn").classList.toggle("active",m==="pro");
$("simpleControls").style.display=m==="simple"?"":"none";
$("proControls").style.display=m==="pro"?"":"none";
$("shotSeg").style.display=m==="pro"?"":"none";
$("modeHint").textContent=m==="simple"
?"Simple: HIT / MISS L / MISS C / MISS R"
:"Pro: choose HIT/MISS, shot #, then zone";
render();
}

/* ========= SHOTS ========= */
function pushShot(o){
if(liveShots.length>=25)return;
liveShots.push(o);
render();
}

/* ========= SIMPLE ========= */
$("tapHit").onclick=()=>pushShot({outcome:"hit"});
$("tapLeft").onclick=()=>pushShot({outcome:"miss",zone:"L"});
$("tapCenter").onclick=()=>pushShot({outcome:"miss",zone:"C"});
$("tapRight").onclick=()=>pushShot({outcome:"miss",zone:"R"});

/* ========= PRO ========= */
$("proHitBtn").onclick=()=>proOutcome="hit";
$("proMissBtn").onclick=()=>proOutcome="miss";
$("shot1Btn").onclick=()=>shotNum=1;
$("shot2Btn").onclick=()=>shotNum=2;

/* ========= CONTROLS ========= */
$("undoBtn").onclick=()=>{liveShots.pop();render()};
$("resetRoundBtn").onclick=()=>{liveShots=[];render()};
$("modeSimpleBtn").onclick=()=>setMode("simple");
$("modeProBtn").onclick=()=>setMode("pro");

/* ========= RENDER ========= */
function render(){
const idx=liveShots.length;
$("shotV").textContent=`${idx}/25`;
$("scoreV").textContent=`${liveShots.filter(s=>s.outcome==="hit").length}/25`;
$("hitPctV").textContent=`${pct(liveShots.filter(s=>s.outcome==="hit").length,idx)}%`;

const grid=$("shotGrid");
grid.innerHTML="";
for(let i=0;i<25;i++){
const s=liveShots[i];
const d=document.createElement("div");
d.className="shot "+(!s?"pending":s.outcome);
d.textContent=s? (s.outcome==="hit"?"✓":"×"):"—";
grid.appendChild(d);
}
}

/* ========= INIT ========= */
setMode("simple");
render();

});
</script>
</body>
</html>
